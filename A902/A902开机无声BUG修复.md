### A902开机无声BUG修复 ###

#### 一、问题描述 ####

- A902开机时偶尔会出现没有声音的现象；
- 如果设备在开机时没有声音，开机后系统也没有声音；
- 重启可以解决；

#### 二、问题分析 ####

* 声卡设备驱动出现问题，导致声卡无法注册；
* 受到其他声卡设备的影响，错误的注册了声卡设备；

#### 三、解决思路和方案 ####

##### 1. LOG分析

​	通过对log的分析，发现当系统无声时，是因为找不到/dev/snd/pcmC0D0p设备文件，查看/proc/asound文件夹发现系统注册了两个声卡，使用`cat cards` 命令查看声卡设备，发现一个是sunxi的codec声卡，另一个是USB Camera 声卡。

##### 2.解决方案 #####

​	造成A902开机无声的原因是系统的默认声卡是card0，当USB声卡被注册成card0时，系统便无法发出声音，所以必须把sunxi的codec声卡注册为card0，由于并不需USB声卡，所以直接在Linux配置中将ALSA的USB声卡驱动去掉，不再编译进内核。

#### 四、参考文献 ####

[ALSA-ASOC音频驱动框架简述](https://blog.csdn.net/linuxarmbiggod/article/details/80600633)

